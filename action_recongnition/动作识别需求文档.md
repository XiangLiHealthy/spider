# 动作识别内部需求文档V1.2.0

| 写作目的                               | 作者   | 日期       | 版本   |
| -------------------------------------- | ------ | ---------- | ------ |
| 1.同步进度；2.作为需求评审的参考之一； | 向保松 | 2021.04.20 | V1.2.0 |

> 个人认知有限，请尽情拍砖指导



## 项目简介

> 1.是什么？一个能进行动作识别、指导、评估的APP，作为数疗的一个模块；
>
> 2.针对的用户：术后需要运动康复的病人，目前是乳腺癌术后运动康复；
>
> 3.使用场景：康复中心距离远，费用贵，用户不偏好去康复中心，更喜欢在家进行训练；但是在家训练缺少专业的指导，在医生的推荐下，可以使用本产品解决相关困扰；
>
> 4.竞品：keep、kaia health等；相对于竞品，本产品能够提供个性化医学验证的运动方案，实时精确指导，并能依托数疗医生的渠道推广；
>
> 5.未来趋势：



## 背景描述

> 1.经过前阶段的研究，APP技术难点和算法难点基本解决，“初心”的功能已可以在PC端演示；可以演示的功能包括：动作能力评估、基于评估结果的训练任务调整、训练时可以动作识别、错误提示、关键姿态倒计时、关键姿态动作要领提示、动作计数；评估、训练、教练模型可根据配置文件调整。
>
> 2.叶总、医学部、余总多方需求有明显冲突，希望有个比较统一的方案；叶总与医学部的要求基本一致，从整体需求出发；余总要求差异较大，只要求做纯技术验证。
>
> 3.目前研发力量比较弱，一个人既要做技术方案验证，又要做APP工程化，精度改进上缺少专业的算法工程师。



## 各方要求描述

![](/home/xiangbaosong/github/doc/健海科技/需求分析.png)

`红色姿态为可以在PC端演示的功能`



## 功能用例

![image-20210420133919736](/home/xiangbaosong/github/doc/pic/casev1.2.png)

> 1.系统参与者包括运动师、医生和用户；黄颜色为核心功能，其它为周边功能；
>
> 2.运动师是教练视频生产者，他们要录制视频、标注动作名称、说明功效、动作要领等，上传到运动库；医生根据病人情况制定康复方案，并可以随时查看用户康复情况和中途调整运动方案；用户根据医生要求完成每日训练任务并定期进行康复效果评估；
>
> 3.功能使用顺序大致是：预备指导---->动作指导----->结果反馈------>能力评估；详见下文业务流程；
>
> 1）要求用户把手机摆放到合适位置和姿态，并要求用户站到合适的位置与距离，以便提高识别精度；
>
> 2）由于手机屏幕小，用户离手机屏幕远，根本看不清指导提示，所以尽量使用语音提示，有智能电视的场景支持投屏；
>
> 3）训练时自动记录动作名称、数量、评分，根据规则进行动作能力评估获得动作角度范围，以便做统计分析；



## 其它需求

1.可扩展性

- 可根据病种、康复周期、病人信息、授权调整动作名称、数量和关节张角；
- 作为数疗的一个模块，编译成SDK供运营开发者使用，提供必要的编程接口以实现相关功能；

2.安全性

- 不能录制用户视频，保护用户隐私；
- 做好异常处理，以不误导用后造成运动伤害为前提；

3.性能要求

- 1000元智能手机识别帧率15fps以上；
- 符合医学标准的识别精度；

4.运行平台

- android 4.0以上， IOS

5.其它

- 界面精简



## 业务流程

![image-20210420165152621](/home/xiangbaosong/github/doc/pic/flow-chart-action-reconfg.png)

```shell
1.在线连接更清晰：https://www.processon.com/view/link/607e9683f346fb647a62496b
2.上图描述核心业务流程，即用例图中的黄颜色功能流程，周边功能未做描述；
```



## 数据流程

![image-20210420171425639](/home/xiangbaosong/github/doc/pic/data-flow-aciton-recong.png)

> 1.运动来时生产运动视频、评估视频、动作的相关说明，然后保存到数疗平台；
>
> 2.医生根据用户情况，制定运动处方；运动素材来源于运动老师的创造；用户使用一段运动处方后可以查看对应的运动记录；
>
> 3.用户使用数疗APP，完成每日训练任务；如果达到评估周期，APP会要求用户进行动作能力评估；运动记录和评估结果都将保存到数疗平台以备医生查看；



## 目前存在的问题

- 数疗APP团队未组建，插件化的需求不能明确；目前仅仅自娱自乐；
- 运动师比较忙，无法拿到真实的康复动作进行测试，只能使用网络常规运动视频；